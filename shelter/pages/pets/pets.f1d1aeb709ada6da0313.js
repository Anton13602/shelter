(()=>{"use strict";document.body.style.opacity=0,setTimeout((()=>{document.body.style.opacity=1}),150);let e=function(){let e;switch(!0){case window.screen.width>=1279.98:e=8;break;case window.screen.width<767.98:e=3;break;default:e=6}return e}();!async function(){try{let e=await fetch("https://anton13602.github.io/JSON_shelter/pets.json");(await e.json()).forEach((e=>{d.push(e)}))}catch{let e=await fetch("../../assets/json/pagination_pets.json");(await e.json()).forEach((e=>{d.push(e)}))}!function(){l.innerHTML="";for(let t=0;t<e;t++){let e=v[t];p(d[e])}}()}();const t=document.querySelector(".menu__icon"),n=document.querySelector(".menu__body"),c=document.querySelector(".backgroung"),o=document.querySelector(".header"),s=document.querySelector(".header__logo");if(t){t.addEventListener("click",(e=>{e.stopPropagation(),o.classList.toggle("_delete"),t.classList.toggle("_active"),n.classList.toggle("_active"),s.classList.toggle("_active"),c.classList.toggle("open"),document.querySelector("body").classList.toggle("_lock"),document.addEventListener("click",(e=>{e.target.closest(".menu__body")||c.classList.contains("open")&&(n.classList.remove("_active"),t.classList.remove("_active"),c.classList.remove("open"),s.classList.remove("_active"),o.classList.remove("_delete"),document.querySelector("body").classList.remove("_lock"))}))}))}const i=document.querySelectorAll(".menu__link[data-goto]");if(i.length>0){function y(e){const i=e.target;if(i.dataset.goto&&document.querySelector(i.dataset.goto)){const a=document.querySelector(i.dataset.goto).getBoundingClientRect().top+window.pageYOffset;t.classList.contains("_active")&&(document.querySelector("body").classList.remove("_lock"),t.classList.remove("_active"),n.classList.remove("_active"),c.classList.remove("open"),s.classList.remove("_active"),o.classList.remove("_delete")),window.scrollTo({top:a,behavior:"smooth"}),e.preventDefault()}}i.forEach((e=>{e.addEventListener("click",y)}))}const a=document.querySelectorAll(".navigation__button"),r=document.querySelector(".navigation__button_active"),l=document.querySelector(".slider-pets__colums"),d=[];function u(){return Math.ceil(d.length/e)}if(a){const h=document.querySelector(".first-right"),f=document.querySelector(".last-right"),b=document.querySelector(".first-left"),S=document.querySelector(".last-left");function k(){b.classList.add("data-active"),S.classList.add("data-active"),b.classList.remove("data-disabled"),S.classList.remove("data-disabled"),m()}function q(){h.classList.add("data-disabled"),f.classList.add("data-disabled"),h.classList.remove("data-active"),f.classList.remove("data-active"),m()}function E(){b.classList.remove("data-active"),S.classList.remove("data-active"),b.classList.add("data-disabled"),S.classList.add("data-disabled"),m()}function w(){h.classList.remove("data-disabled"),f.classList.remove("data-disabled"),h.classList.add("data-active"),f.classList.add("data-active"),m()}function M(){+r.innerHTML<u()&&(r.innerHTML++,b.addEventListener("click",T),S.addEventListener("click",x)),k(),+r.innerHTML===u()&&(q(),h.removeEventListener("click",M),f.removeEventListener("click",H))}function T(){+r.innerHTML>1&&(r.innerHTML--,h.addEventListener("click",M),f.addEventListener("click",H)),w(),1==+r.innerHTML&&(E(),b.removeEventListener("click",T),S.removeEventListener("click",x))}function H(){r.innerHTML=u(),q(),k(),h.removeEventListener("click",M),f.removeEventListener("click",H),b.addEventListener("click",T),S.addEventListener("click",x)}function x(){r.innerHTML=1,E(),w(),h.addEventListener("click",M),f.addEventListener("click",H),b.removeEventListener("click",T),S.removeEventListener("click",x)}h.addEventListener("click",M),f.addEventListener("click",H)}function m(){l.innerHTML="";let t=(r.innerHTML-1)*e,n=t+e,c=v.slice(t,n);for(let e=0;e<c.length;e++)p(d[c[e]])}function p(e){let t=document.createElement("div");t.className="slider-pets__colum";let n=document.createElement("div");n.className="colum__img";let c=document.createElement("img");c.src=e.img;let o=document.createElement("h4");o.className="colum__title",o.innerHTML=e.name;let s=document.createElement("button");s.className="colum__btn",s.innerHTML="Learn more",l.append(t),t.append(n),n.append(c),t.append(o),t.append(s),function(e){e.addEventListener("click",(t=>{const n=e.children[1].textContent,c=e.firstElementChild.children[0].src;var o;o=document.querySelector(".popup"),function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth;document.querySelector("body").style.paddingRight=`${e}px`,window.screen.width>=1279.98?document.querySelector(".header__container").style.paddingRight=`${e+40}px`:document.querySelector(".header__container").style.paddingRight=`${e+30}px`,document.body.classList.add("_lock")}(),o.classList.add("open"),document.querySelector(".popup__content").classList.add("open"),o.addEventListener("click",(e=>{e.target.closest(".popup__content")||g(e.target.closest(".popup"))})),function(e,t){const n=document.querySelector(".body-popup__title"),c=document.querySelector(".body-popup__img img"),o=document.querySelector(".body-popup__sybtitle"),s=document.querySelector(".body-popup__text"),i=document.querySelectorAll(".body-popup__list p");let a=0;for(let n=0;n<d.length;n++)e===d[n].name&&_(t)===_(d[n].img)&&(a=n);n.innerHTML=d[a].name,c.src=d[a].img,o.innerHTML=`${d[a].type} - ${d[a].breed}`,s.innerHTML=d[a].description,i[0].innerHTML=d[a].age,i[1].innerHTML=d[a].inoculations,i[2].innerHTML=d[a].diseases,i[3].innerHTML=d[a].parasites}(n,c)}))}(t)}function L(e){let t=[];for(;t.length<e;){let e=Math.floor(8*Math.random()),n=!1;for(let c=0;c<t.length;c++)if(t[c]===e){n=!0;break}n||t.push(e)}return t}const v=function t(){let n=[];for(let e=0;e<6;e++)n.push(...L(8));let c=[];for(let t=0;t<n.length;t+=e){let o=n.slice(t,t+e),s=[...new Set(o)];c.push(o.length===s.length)}return 0===c.filter((e=>!1===e)).length?n:t()}();function _(e){const t=e.split("/").map((e=>e.toLowerCase()));return t[t.length-1]}function g(e){e.classList.remove("open"),document.querySelector(".popup__content").classList.remove("open"),document.body.classList.remove("_lock"),document.querySelector("body").style.paddingRight="0px",window.screen.width>=1279.98?document.querySelector(".header__container").style.paddingRight="40px":document.querySelector(".header__container").style.paddingRight="30px"}document.querySelectorAll(".close-popup").forEach((e=>{e.addEventListener("click",(t=>{g(e.closest(".popup"))}))}))})();